# Основы

  Алгоритмическая торговля означает, что решение о покупке или продаже
финансовых ценных бумаг на бирже принимается на основе заранее
определенного алгоритма. На нашей платформе алгоритм - это скрипт на
python, который принимает исторические данные в качестве входных данных
и дает решение о покупке/продаже акции.

Скажем, у нас есть капитал в размере \$1 млн., необходимо сформировать
инвестиционный портфель из трех инструментов: Apple Inc (AAPL), Alphabet
Inc класса C (GOOG), Tesla Inc (TSLA). Давайте посмотрим на цену *open*
этих акций за определенный период. *Open* - цена, по которой ценные
бумаги впервые торгуются после открытия биржи в торговый день. Мы
используем исторические данные биржи NASDAQ в качестве входных данных:

| date         | AAPL   | GOOG     | TSLA   |
|:------------:| ------:| --------:| ------:|
| Mar 02, 2020 | 282.28 | 1,351.61 | 711.26 |
| Mar 03, 2020 | 303.67 | 1,399.42 | 805.00 |
| Mar 04, 2020 | 296.44 | 1,359.23 | 763.96 |

_Таблица 1. Цена акций (в USD) на момент открытия биржи NASDAQ._

Теперь нам нужно придумать алгоритм, по которому капитал будет
распределяться между акциями. Алгоритм представляет собой найденную
закономерность, сигнал о событиях, происходящих в мире и отображающихся
в исторических данных.

Предположим, у нас есть гипотеза - нужно вкладывать больше, если цена
*open* низкая. Гипотеза может быть выражена формулой:

$$\label{alpha1}
    \frac{1}{\textbf{open}},$$

Здесь и далее мы будем выделять вектора жирным шрифтом. Если применить эту
формулу к таблице 1, получится матричный вид алгоритма:

| date         | AAPL          | GOOG          | TSLA          |
|:------------:| -------------:| -------------:| -------------:|
| Mar 02, 2020 | 0.00354258183 | 0.00073985839 | 0.00140595562 |
| Mar 03, 2020 | 0.00329304837 | 0.00071458175 | 0.00124223602 |
| Mar 04, 2020 | 0.00337336391 | 0.00073571065 | 0.00130896905 |

_Таблица 2. Матричный вид алгоритма._

Капитал распределяется пропорционально значениям матрицы. Чтобы получить
доли капитала, вложенного в каждый инструмент, матрица (таблица 2) должна быть 
нормализована (норма \\\(l_1\\\)) на единицу для каждого дня:

| date         | AAPL   | GOOG   | TSLA   |
|:------------:| ------:| ------:| ------:|
| Mar 02, 2020 | 0.6228 | 0.1301 | 0.2472 |
| Mar 03, 2020 | 0.6273 | 0.1361 | 0.2366 |
| Mar 04, 2020 | 0.6226 | 0.1358 | 0.2416 |

_Таблицы 3. Веса алгоритма (__weights__)._

Таким образом, 2 марта 2020 года для AAPL было выделено
\\\( 1M \cdot 0.6228 = $622,800; \\\) GOOG и TSLA получили $130,100 и
$247,200  соответственно. Матричные значения (Таблица 3) называются весами (**weights**) алгоритма.

